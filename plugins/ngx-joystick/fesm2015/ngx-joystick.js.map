{"version":3,"file":"ngx-joystick.js","sources":["../../projects/ngx-joystick/src/lib/ngx-joystick.component.ts","../../projects/ngx-joystick/src/lib/ngx-joystick.module.ts","../../../projects/ngx-joystick/src/public-api.ts","../../../projects/ngx-joystick/src/ngx-joystick.ts"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter, Input, ElementRef, OnDestroy } from '@angular/core';\nimport * as nipplejs from 'nipplejs';\n\nexport interface JoystickEvent {\n  event: nipplejs.EventData;\n  data: nipplejs.JoystickOutputData;\n}\n\n@Component({\n  selector: 'ngx-joystick',\n  template: `\n  <div style=\"width: 100%; height: 100%\" id=\"static\"></div>\n  `,\n  styles: [],\n})\nexport class NgxJoystickComponent implements OnInit, OnDestroy {\n  @Input() options: nipplejs.JoystickManagerOptions;\n  @Output() move = new EventEmitter<JoystickEvent>();\n  // tslint:disable-next-line:no-output-native\n  @Output() start = new EventEmitter<JoystickEvent>();\n  // tslint:disable-next-line:no-output-native\n  @Output() end = new EventEmitter<JoystickEvent>();\n  @Output() dir = new EventEmitter<JoystickEvent>();\n  @Output() dirUp = new EventEmitter<JoystickEvent>();\n  @Output() dirDown = new EventEmitter<JoystickEvent>();\n  @Output() dirLeft = new EventEmitter<JoystickEvent>();\n  @Output() dirRight = new EventEmitter<JoystickEvent>();\n  @Output() plain = new EventEmitter<JoystickEvent>();\n  @Output() plainUp = new EventEmitter<JoystickEvent>();\n  @Output() plainDown = new EventEmitter<JoystickEvent>();\n  @Output() plainLeft = new EventEmitter<JoystickEvent>();\n  @Output() plainRight = new EventEmitter<JoystickEvent>();\n\n  manager: nipplejs.JoystickManager;\n\n  constructor(private el: ElementRef) {\n  }\n\n  ngOnInit() {\n    if (!this.options) {\n      this.options = this.getDefaultOptions();\n    } else {\n      this.options.zone = this.el.nativeElement;\n    }\n\n    this.manager = nipplejs.create(this.options);\n\n    this.setupEvents();\n  }\n\n  ngOnDestroy() {\n    this.manager.destroy();\n  }\n\n  private getDefaultOptions(): nipplejs.JoystickManagerOptions {\n    const options: nipplejs.JoystickManagerOptions = {\n      zone: this.el.nativeElement,\n      mode: 'static',\n      position: { left: '50%', top: '50%' },\n      color: 'blue'\n    };\n    return options;\n  }\n\n  private emitEvent(event: any, emitter: EventEmitter<any>) {\n    const joystickEvent: JoystickEvent = { event: event.event, data: event.data };\n    emitter.emit(joystickEvent);\n  }\n\n  private setupEvents() {\n    this.manager.on('move', (event, data) => { this.emitEvent({event, data}, this.move); });\n    this.manager.on('start', (event, data) => { this.emitEvent({event, data}, this.start); });\n    this.manager.on('end', (event, data) => { this.emitEvent({event, data}, this.end); });\n    this.manager.on('dir', (event, data) => { this.emitEvent({event, data}, this.dir); });\n    this.manager.on('dir:up', (event, data) => { this.emitEvent({event, data}, this.dirUp); });\n    this.manager.on('dir:down', (event, data) => { this.emitEvent({event, data}, this.dirDown); });\n    this.manager.on('dir:left', (event, data) => { this.emitEvent({event, data}, this.dirLeft); });\n    this.manager.on('dir:right', (event, data) => { this.emitEvent({event, data}, this.dirRight); });\n    this.manager.on('plain', (event, data) => { this.emitEvent({event, data}, this.plain); });\n    this.manager.on('plain:up', (event, data) => { this.emitEvent({event, data}, this.plainUp); });\n    this.manager.on('plain:down', (event, data) => { this.emitEvent({event, data}, this.plainDown); });\n    this.manager.on('plain:left', (event, data) => { this.emitEvent({event, data}, this.plainLeft); });\n    this.manager.on('plain:right', (event, data) => { this.emitEvent({event, data}, this.plainRight); });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgxJoystickComponent } from './ngx-joystick.component';\n\n@NgModule({\n  declarations: [NgxJoystickComponent],\n  imports: [\n  ],\n  exports: [NgxJoystickComponent]\n})\nexport class NgxJoystickModule { }\n","/*\n * Public API Surface of ngx-joystick\n */\n\nexport * from './lib/ngx-joystick.component';\nexport * from './lib/ngx-joystick.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["nipplejs.create"],"mappings":";;;MAea,oBAAoB;IAoB/B,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;QAlBxB,SAAI,GAAG,IAAI,YAAY,EAAiB,CAAC;;QAEzC,UAAK,GAAG,IAAI,YAAY,EAAiB,CAAC;;QAE1C,QAAG,GAAG,IAAI,YAAY,EAAiB,CAAC;QACxC,QAAG,GAAG,IAAI,YAAY,EAAiB,CAAC;QACxC,UAAK,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC1C,YAAO,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC5C,YAAO,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC5C,aAAQ,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC7C,UAAK,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC1C,YAAO,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC5C,cAAS,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC9C,cAAS,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC9C,eAAU,GAAG,IAAI,YAAY,EAAiB,CAAC;KAKxD;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;SACzC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;SAC3C;QAED,IAAI,CAAC,OAAO,GAAGA,MAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE7C,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;KACxB;IAEO,iBAAiB;QACvB,MAAM,OAAO,GAAoC;YAC/C,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa;YAC3B,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE;YACrC,KAAK,EAAE,MAAM;SACd,CAAC;QACF,OAAO,OAAO,CAAC;KAChB;IAEO,SAAS,CAAC,KAAU,EAAE,OAA0B;QACtD,MAAM,aAAa,GAAkB,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC;QAC9E,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC7B;IAEO,WAAW;QACjB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtF,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtF,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QACjG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;QACnG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;QACnG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;KACtG;;;YA3EF,SAAS,SAAC;gBACT,QAAQ,EAAE,cAAc;gBACxB,QAAQ,EAAE;;GAET;aAEF;;;YAdwD,UAAU;;;sBAgBhE,KAAK;mBACL,MAAM;oBAEN,MAAM;kBAEN,MAAM;kBACN,MAAM;oBACN,MAAM;sBACN,MAAM;sBACN,MAAM;uBACN,MAAM;oBACN,MAAM;sBACN,MAAM;wBACN,MAAM;wBACN,MAAM;yBACN,MAAM;;;MCtBI,iBAAiB;;;YAN7B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,oBAAoB,CAAC;gBACpC,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,oBAAoB,CAAC;aAChC;;;ACRD;;;;ACAA;;;;;;"}