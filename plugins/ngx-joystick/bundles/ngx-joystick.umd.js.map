{"version":3,"file":"ngx-joystick.umd.js","sources":["../../projects/ngx-joystick/src/lib/ngx-joystick.component.ts","../../projects/ngx-joystick/src/lib/ngx-joystick.module.ts","../../../projects/ngx-joystick/src/public-api.ts","../../../projects/ngx-joystick/src/ngx-joystick.ts"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter, Input, ElementRef, OnDestroy } from '@angular/core';\nimport * as nipplejs from 'nipplejs';\n\nexport interface JoystickEvent {\n  event: nipplejs.EventData;\n  data: nipplejs.JoystickOutputData;\n}\n\n@Component({\n  selector: 'ngx-joystick',\n  template: `\n  <div style=\"width: 100%; height: 100%\" id=\"static\"></div>\n  `,\n  styles: [],\n})\nexport class NgxJoystickComponent implements OnInit, OnDestroy {\n  @Input() options: nipplejs.JoystickManagerOptions;\n  @Output() move = new EventEmitter<JoystickEvent>();\n  // tslint:disable-next-line:no-output-native\n  @Output() start = new EventEmitter<JoystickEvent>();\n  // tslint:disable-next-line:no-output-native\n  @Output() end = new EventEmitter<JoystickEvent>();\n  @Output() dir = new EventEmitter<JoystickEvent>();\n  @Output() dirUp = new EventEmitter<JoystickEvent>();\n  @Output() dirDown = new EventEmitter<JoystickEvent>();\n  @Output() dirLeft = new EventEmitter<JoystickEvent>();\n  @Output() dirRight = new EventEmitter<JoystickEvent>();\n  @Output() plain = new EventEmitter<JoystickEvent>();\n  @Output() plainUp = new EventEmitter<JoystickEvent>();\n  @Output() plainDown = new EventEmitter<JoystickEvent>();\n  @Output() plainLeft = new EventEmitter<JoystickEvent>();\n  @Output() plainRight = new EventEmitter<JoystickEvent>();\n\n  manager: nipplejs.JoystickManager;\n\n  constructor(private el: ElementRef) {\n  }\n\n  ngOnInit() {\n    if (!this.options) {\n      this.options = this.getDefaultOptions();\n    } else {\n      this.options.zone = this.el.nativeElement;\n    }\n\n    this.manager = nipplejs.create(this.options);\n\n    this.setupEvents();\n  }\n\n  ngOnDestroy() {\n    this.manager.destroy();\n  }\n\n  private getDefaultOptions(): nipplejs.JoystickManagerOptions {\n    const options: nipplejs.JoystickManagerOptions = {\n      zone: this.el.nativeElement,\n      mode: 'static',\n      position: { left: '50%', top: '50%' },\n      color: 'blue'\n    };\n    return options;\n  }\n\n  private emitEvent(event: any, emitter: EventEmitter<any>) {\n    const joystickEvent: JoystickEvent = { event: event.event, data: event.data };\n    emitter.emit(joystickEvent);\n  }\n\n  private setupEvents() {\n    this.manager.on('move', (event, data) => { this.emitEvent({event, data}, this.move); });\n    this.manager.on('start', (event, data) => { this.emitEvent({event, data}, this.start); });\n    this.manager.on('end', (event, data) => { this.emitEvent({event, data}, this.end); });\n    this.manager.on('dir', (event, data) => { this.emitEvent({event, data}, this.dir); });\n    this.manager.on('dir:up', (event, data) => { this.emitEvent({event, data}, this.dirUp); });\n    this.manager.on('dir:down', (event, data) => { this.emitEvent({event, data}, this.dirDown); });\n    this.manager.on('dir:left', (event, data) => { this.emitEvent({event, data}, this.dirLeft); });\n    this.manager.on('dir:right', (event, data) => { this.emitEvent({event, data}, this.dirRight); });\n    this.manager.on('plain', (event, data) => { this.emitEvent({event, data}, this.plain); });\n    this.manager.on('plain:up', (event, data) => { this.emitEvent({event, data}, this.plainUp); });\n    this.manager.on('plain:down', (event, data) => { this.emitEvent({event, data}, this.plainDown); });\n    this.manager.on('plain:left', (event, data) => { this.emitEvent({event, data}, this.plainLeft); });\n    this.manager.on('plain:right', (event, data) => { this.emitEvent({event, data}, this.plainRight); });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgxJoystickComponent } from './ngx-joystick.component';\n\n@NgModule({\n  declarations: [NgxJoystickComponent],\n  imports: [\n  ],\n  exports: [NgxJoystickComponent]\n})\nexport class NgxJoystickModule { }\n","/*\n * Public API Surface of ngx-joystick\n */\n\nexport * from './lib/ngx-joystick.component';\nexport * from './lib/ngx-joystick.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","nipplejs.create","Component","ElementRef","Input","Output","NgModule"],"mappings":"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"}